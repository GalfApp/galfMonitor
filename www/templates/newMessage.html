<ion-modal-view>
    <ion-header-bar>
        <h1 class="title">New Message</h1>
    </ion-header-bar>
    <ion-content>
        <div class="list">
            <label class="item item-input item-stacked-label">
                <span class="input-label">Message To</span>
                <span ng-if="data.broadcast" class="ng-binding">({{ onlineUsersCount + awayUsersCount }}) users</span>
                <span ng-if="!data.broadcast" class="ng-binding">{{ userToMessage.name + ' ' + userToMessage.lastname }}</span>
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label">Title</span>
                <input ng-model="data.data.title" type="text" placeholder="title" required="" class="ng-pristine ng-valid ng-valid-required ng-touched">
            </label>
            <label class="item item-input item-stacked-label">
                <span class="input-label">Message</span>
                <textarea ng-model="data.data.message" rows="4" required="" class="ng-dirty ng-touched ng-invalid ng-invalid-required"></textarea>
            </label>
            <div class="row">
                <div class="col">
                    <button class="button button-block button-light" ng-click="cancel()">
                        Cancel
                    </button>
                </div>
                <div class="col">
                    <button class="button icon-right button-block button-positive ion-ios-paperplane" ng-click="sendMessage()" ng-disabled="newMesageForm.$invalid || isLoading" disabled="disabled">
                        Send
                    </button>
                </div>
            </div>
        </div>
    </ion-content>
</ion-modal-view>
